{%extends "base.html"%}
{%block content%}
    {%with messages = get_flashed_messages()%}
        {%if messages%}
            {%for msg in messages%}
                {%if "Error" in msg%}
                    <h1 class="error">{{msg}}</h1>
                {%else%}
                    <h1 class="flash_msg">{{msg}}</h1>
                {%endif%}
            {%endfor%}
        {%endif%}
    {%endwith%}
{%if connected%}
<form method = 'get'class="horizontal_form">
    <input name="search_orders_bar" type="search" placeholder="Search Ordered Item" class="search_bar">
    <button class="table_button">refresh</button>
</form>
<div class="data_page">
    <div class="table-scroll">
        <table>
            <tr>
                <td>ID</td>
                <td>Ordered Item</td>
                <td>Start Date</td>
                <td>End Date</td>
                <td>Estimated Cost</td>
            </tr>
            {%for order in orderDetails%}
            <tr>
                <td><button class="table_button"onclick="id_button({{order[0]}})">{{order[0]}}</button></td>
                <td>{{order[1]}}</td>
                <td>{{order[2]}}</td>
                <td>{{order[3]}}</td>
                <td>{{order[4]}}</td>
                <td><button class="table_button" onclick="id_button({{order[0]}})">edit</button></td>
            </tr>
            {%endfor%}
        </table>
    </div>
    
    <div>
        <form method="post" class="data_entry">
            <input type="text" name="ordered_item" placeholder="Ordered Item" class="input_field"/>
            <input type="date" name="estimated_delivery_date" placeholder="Estimated Delivery Date" class="input_field"/>
            <input type="date" name="delivery_date" placeholder="Delivery Date" class="input_field"/>
            <input type="number" name="order_cost" placeholder="Order Cost" class="input_field"/>
            <input type="submit" class="input_field"/>
        </form>
    </div>
</div>
{%endif%}
{%endblock%}